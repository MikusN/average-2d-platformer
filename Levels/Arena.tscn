[gd_scene load_steps=23 format=3 uid="uid://bv02eg3dotl02"]

[ext_resource type="Texture2D" uid="uid://yjkxe18t32jh" path="res://textures/grass.png" id="1_3sm0n"]
[ext_resource type="Texture2D" uid="uid://csksak0iavc1" path="res://textures/SandishStone.png" id="2_f8rhi"]
[ext_resource type="Texture2D" uid="uid://bcnqw4qsfnntm" path="res://textures/bricks.png" id="3_4yh7d"]
[ext_resource type="Texture2D" uid="uid://d1rirjmjh7c2v" path="res://textures/IronWalls.png" id="4_kn3ki"]
[ext_resource type="PackedScene" uid="uid://c6v8w5vqcmqa6" path="res://Entities/player.tscn" id="5_8ml7l"]
[ext_resource type="Script" uid="uid://d15nwrpie8bov" path="res://Levels/KillCounter.gd" id="5_kn3ki"]
[ext_resource type="Script" uid="uid://dhy2mcbkkl26p" path="res://Scripts/spawner.gd" id="6_3sm0n"]
[ext_resource type="PackedScene" uid="uid://xbgni1a8lr0x" path="res://Entities/Enemies/Mercs/mercShotty.tscn" id="6_k3an4"]
[ext_resource type="PackedScene" uid="uid://cgeosfih1riti" path="res://Entities/stomper.tscn" id="7_ifjt6"]
[ext_resource type="AudioStream" uid="uid://bh4jls0gfuv5p" path="res://Music/A Sorrow Time.mp3" id="7_mo5sh"]
[ext_resource type="PackedScene" uid="uid://cxfnf2pvy8nsp" path="res://Entities/Enemies/Mercs/mercSniper.tscn" id="10_8ml7l"]
[ext_resource type="Texture2D" uid="uid://dqtyqupmieste" path="res://textures/Spinny thing.png" id="11_k3an4"]
[ext_resource type="PackedScene" uid="uid://btm3rntawj3ev" path="res://Entities/Enemies/Mercs/mercRifle.tscn" id="11_mo5sh"]
[ext_resource type="PackedScene" uid="uid://6mjy7jqd2boq" path="res://Entities/Enemies/Mafia/MafiaGoons.tscn" id="13_famn7"]
[ext_resource type="Script" uid="uid://boa0unmidw3u" path="res://Levels/spawner_boss.gd" id="15_d75p2"]
[ext_resource type="PackedScene" uid="uid://ckii40e7slgih" path="res://Entities/Enemies/Mafia/MafiaGodfather.tscn" id="16_exqbx"]
[ext_resource type="PackedScene" uid="uid://dyc3r0j7kdfcl" path="res://Entities/death_zone.tscn" id="17_d75p2"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_104vp"]
texture = ExtResource("1_3sm0n")
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_3momc"]
texture = ExtResource("2_f8rhi")
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_sbm5j"]
texture = ExtResource("3_4yh7d")
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_p2sgf"]
texture = ExtResource("4_kn3ki")
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)

[sub_resource type="TileSet" id="TileSet_ufevr"]
physics_layer_0/collision_layer = 2
sources/1 = SubResource("TileSetAtlasSource_3momc")
sources/0 = SubResource("TileSetAtlasSource_104vp")
sources/2 = SubResource("TileSetAtlasSource_sbm5j")
sources/3 = SubResource("TileSetAtlasSource_p2sgf")

[node name="Level" type="Node2D"]

[node name="TileMap" type="TileMap" parent="."]
position = Vector2(2, 0)
tile_set = SubResource("TileSet_ufevr")
collision_animatable = true
format = 2
layer_0/tile_data = PackedInt32Array(196601, 0, 0, 196602, 0, 0, 196603, 0, 0, 196604, 0, 0, 196605, 0, 0, 196606, 0, 0, 196607, 0, 0, 131072, 0, 0, 131073, 0, 0, 131074, 0, 0, 131075, 0, 0, 131076, 0, 0, 131077, 0, 0, 131078, 0, 0, 458740, 0, 0, 458741, 0, 0, 458742, 0, 0, 458743, 0, 0, 458744, 0, 0, 458745, 0, 0, 458746, 0, 0, 458747, 0, 0, 458748, 0, 0, 458749, 0, 0, 458750, 0, 0, 458751, 0, 0, 393216, 0, 0, 393217, 0, 0, 393218, 0, 0, 393219, 0, 0, 393220, 0, 0, 393221, 0, 0, 393222, 0, 0, 393223, 0, 0, 393224, 0, 0, 393225, 0, 0, 393226, 1, 0, 393227, 1, 0, 393228, 1, 0, -131073, 3, 0, -196608, 3, 0, 458725, 0, 0, 458726, 0, 0, 458727, 0, 0, 458728, 0, 0, 458729, 0, 0, 458730, 0, 0, 458731, 0, 0, 458732, 0, 0, 458733, 0, 0, 458734, 0, 0, 458735, 0, 0, 458736, 0, 0, 458737, 0, 0, 458738, 0, 0, 458739, 0, 0, 393229, 1, 0, 393230, 1, 0, 393231, 1, 0, 393232, 1, 0, 393233, 1, 0, 393234, 1, 0, 393235, 1, 0, 393236, 1, 0, 393237, 1, 0, 393238, 1, 0, 393239, 1, 0, 393240, 1, 0, 393241, 1, 0, 393242, 1, 0, 393243, 1, 0, 393244, 1, 0, 393245, 1, 0, 393246, 1, 0, -786465, 2, 0, -720929, 2, 0, -655393, 2, 0, -589857, 2, 0, -524321, 2, 0, -458785, 2, 0, -393249, 2, 0, -327713, 2, 0, -262177, 2, 0, -196641, 2, 0, -131105, 2, 0, -65569, 2, 0, -33, 2, 0, 65503, 2, 0, 131039, 2, 0, 196575, 2, 0, 262111, 2, 0, 327647, 2, 0, 393183, 2, 0, 458719, 2, 0, -786464, 2, 0, -720928, 2, 0, -655392, 2, 0, -589856, 2, 0, -524320, 2, 0, -458784, 2, 0, -393248, 2, 0, -327712, 2, 0, -262176, 2, 0, -196640, 2, 0, -131104, 2, 0, -65568, 2, 0, -32, 2, 0, 65504, 2, 0, 131040, 2, 0, 196576, 2, 0, 262112, 2, 0, 327648, 2, 0, 393184, 2, 0, 458720, 2, 0, -786463, 2, 0, -720927, 2, 0, -655391, 2, 0, -589855, 2, 0, -524319, 2, 0, -458783, 2, 0, -393247, 2, 0, -327711, 2, 0, -262175, 2, 0, -196639, 2, 0, -131103, 2, 0, -65567, 2, 0, -31, 2, 0, 65505, 2, 0, 131041, 2, 0, 196577, 2, 0, 262113, 2, 0, 327649, 2, 0, 393185, 2, 0, 458721, 2, 0, -786462, 2, 0, -720926, 2, 0, -655390, 2, 0, -589854, 2, 0, -524318, 2, 0, -458782, 2, 0, -393246, 2, 0, -327710, 2, 0, -262174, 2, 0, -196638, 2, 0, -131102, 2, 0, -65566, 2, 0, -30, 2, 0, 65506, 2, 0, 131042, 2, 0, 196578, 2, 0, 262114, 2, 0, 327650, 2, 0, 393186, 2, 0, 458722, 2, 0, -786461, 2, 0, -720925, 2, 0, -655389, 2, 0, -589853, 2, 0, -524317, 2, 0, -458781, 2, 0, -393245, 2, 0, -327709, 2, 0, -262173, 2, 0, -196637, 2, 0, -131101, 2, 0, -65565, 2, 0, -29, 2, 0, 65507, 2, 0, 131043, 2, 0, 196579, 2, 0, 262115, 2, 0, 327651, 2, 0, 393187, 2, 0, 458723, 2, 0, -786460, 2, 0, -720924, 2, 0, -655388, 2, 0, -589852, 2, 0, -524316, 2, 0, -458780, 2, 0, -393244, 2, 0, -327708, 2, 0, -262172, 2, 0, -196636, 2, 0, -131100, 2, 0, -65564, 2, 0, -28, 2, 0, 65508, 2, 0, 131044, 2, 0, 196580, 2, 0, 262116, 2, 0, 327652, 2, 0, 393188, 2, 0, 458724, 2, 0, -851937, 2, 0, -786401, 2, 0, -720865, 2, 0, -655329, 2, 0, -589793, 2, 0, -524257, 2, 0, -458721, 2, 0, -393185, 2, 0, -327649, 2, 0, -262113, 2, 0, -196577, 2, 0, -131041, 2, 0, -65505, 2, 0, 31, 2, 0, 65567, 2, 0, 131103, 2, 0, 196639, 2, 0, 262175, 2, 0, 327711, 2, 0, 393247, 2, 0, -851936, 2, 0, -786400, 2, 0, -720864, 2, 0, -655328, 2, 0, -589792, 2, 0, -524256, 2, 0, -458720, 2, 0, -393184, 2, 0, -327648, 2, 0, -262112, 2, 0, -196576, 2, 0, -131040, 2, 0, -65504, 2, 0, 32, 2, 0, 65568, 2, 0, 131104, 2, 0, 196640, 2, 0, 262176, 2, 0, 327712, 2, 0, 393248, 2, 0, -851935, 2, 0, -786399, 2, 0, -720863, 2, 0, -655327, 2, 0, -589791, 2, 0, -524255, 2, 0, -458719, 2, 0, -393183, 2, 0, -327647, 2, 0, -262111, 2, 0, -196575, 2, 0, -131039, 2, 0, -65503, 2, 0, 33, 2, 0, 65569, 2, 0, 131105, 2, 0, 196641, 2, 0, 262177, 2, 0, 327713, 2, 0, 393249, 2, 0, -851934, 2, 0, -786398, 2, 0, -720862, 2, 0, -655326, 2, 0, -589790, 2, 0, -524254, 2, 0, -458718, 2, 0, -393182, 2, 0, -327646, 2, 0, -262110, 2, 0, -196574, 2, 0, -131038, 2, 0, -65502, 2, 0, 34, 2, 0, 65570, 2, 0, 131106, 2, 0, 196642, 2, 0, 262178, 2, 0, 327714, 2, 0, 393250, 2, 0, -851933, 2, 0, -786397, 2, 0, -720861, 2, 0, -655325, 2, 0, -589789, 2, 0, -524253, 2, 0, -458717, 2, 0, -393181, 2, 0, -327645, 2, 0, -262109, 2, 0, -196573, 2, 0, -131037, 2, 0, -65501, 2, 0, 35, 2, 0, 65571, 2, 0, 131107, 2, 0, 196643, 2, 0, 262179, 2, 0, 327715, 2, 0, 393251, 2, 0, -851932, 2, 0, -786396, 2, 0, -720860, 2, 0, -655324, 2, 0, -589788, 2, 0, -524252, 2, 0, -458716, 2, 0, -393180, 2, 0, -327644, 2, 0, -262108, 2, 0, -196572, 2, 0, -131036, 2, 0, -65500, 2, 0, 36, 2, 0, 65572, 2, 0, 131108, 2, 0, 196644, 2, 0, 262180, 2, 0, 327716, 2, 0, 393252, 2, 0, -851931, 2, 0, -786395, 2, 0, -720859, 2, 0, -655323, 2, 0, -589787, 2, 0, -524251, 2, 0, -458715, 2, 0, -393179, 2, 0, -327643, 2, 0, -262107, 2, 0, -196571, 2, 0, -131035, 2, 0, -65499, 2, 0, 37, 2, 0, 65573, 2, 0, 131109, 2, 0, 196645, 2, 0, 262181, 2, 0, 327717, 2, 0, 393253, 2, 0, -851930, 2, 0, -786394, 2, 0, -720858, 2, 0, -655322, 2, 0, -589786, 2, 0, -524250, 2, 0, -458714, 2, 0, -393178, 2, 0, -327642, 2, 0, -262106, 2, 0, -196570, 2, 0, -131034, 2, 0, -65498, 2, 0, 38, 2, 0, 65574, 2, 0, 131110, 2, 0, 196646, 2, 0, 262182, 2, 0, 327718, 2, 0, 393254, 2, 0, -851929, 2, 0, -786393, 2, 0, -720857, 2, 0, -655321, 2, 0, -589785, 2, 0, -524249, 2, 0, -458713, 2, 0, -393177, 2, 0, -327641, 2, 0, -262105, 2, 0, -196569, 2, 0, -131033, 2, 0, -65497, 2, 0, 39, 2, 0, 65575, 2, 0, 131111, 2, 0, 196647, 2, 0, 262183, 2, 0, 327719, 2, 0, 393255, 2, 0, -851928, 2, 0, -786392, 2, 0, -720856, 2, 0, -655320, 2, 0, -589784, 2, 0, -524248, 2, 0, -458712, 2, 0, -393176, 2, 0, -327640, 2, 0, -262104, 2, 0, -196568, 2, 0, -131032, 2, 0, -65496, 2, 0, 40, 2, 0, 65576, 2, 0, 131112, 2, 0, 196648, 2, 0, 262184, 2, 0, 327720, 2, 0, 393256, 2, 0, -851927, 2, 0, -786391, 2, 0, -720855, 2, 0, -655319, 2, 0, -589783, 2, 0, -524247, 2, 0, -458711, 2, 0, -393175, 2, 0, -327639, 2, 0, -262103, 2, 0, -196567, 2, 0, -131031, 2, 0, -65495, 2, 0, 41, 2, 0, 65577, 2, 0, 131113, 2, 0, 196649, 2, 0, 262185, 2, 0, 327721, 2, 0, 393257, 2, 0, -851997, 2, 0, -851996, 2, 0, -851995, 2, 0, -851994, 2, 0, -851993, 2, 0, -851992, 2, 0, -851991, 2, 0, -851990, 2, 0, -851989, 2, 0, -851988, 2, 0, -851987, 2, 0, -851986, 2, 0, -851985, 2, 0, -851984, 2, 0, -851983, 2, 0, -851982, 2, 0, -851981, 2, 0, -851980, 2, 0, -851979, 2, 0, -851978, 2, 0, -851977, 2, 0, -851976, 2, 0, -851975, 2, 0, -851974, 2, 0, -851973, 2, 0, -851972, 2, 0, -851971, 2, 0, -851970, 2, 0, -851969, 2, 0, -917504, 2, 0, -917503, 2, 0, -917502, 2, 0, -917501, 2, 0, -917500, 2, 0, -917499, 2, 0, -917498, 2, 0, -917497, 2, 0, -917496, 2, 0, -917495, 2, 0, -917494, 2, 0, -917493, 2, 0, -917492, 2, 0, -917491, 2, 0, -917490, 2, 0, -917489, 2, 0, -917488, 2, 0, -917487, 2, 0, -917486, 2, 0, -917485, 2, 0, -917484, 2, 0, -917483, 2, 0, -917482, 2, 0, -917481, 2, 0, -917480, 2, 0, -917479, 2, 0, -917478, 2, 0, -917477, 2, 0, -917476, 2, 0, -917475, 2, 0, -917474, 2, 0, -917473, 2, 0, -131074, 3, 0, -196607, 3, 0, -196606, 3, 0, -196605, 3, 0, -131075, 3, 0, 131092, 1, 0, 131093, 1, 0, 131094, 1, 0, 131095, 1, 0, 65559, 1, 0, 65560, 1, 0, 65561, 1, 0, 65562, 1, 0, 26, 1, 0, 27, 1, 0, 28, 1, 0, -65508, 1, 0, -65507, 1, 0, -65506, 1, 0, -262122, 1, 0, -262121, 1, 0, -262120, 1, 0, -262123, 1, 0, -327659, 1, 0, -327660, 1, 0, -327661, 1, 0, -327662, 1, 0, -327663, 1, 0, -131076, 3, 0, -262171, 2, 0, -262170, 2, 0, -262169, 2, 0, -262168, 2, 0, -262167, 2, 0, -262166, 2, 0, -262165, 2, 0, -262164, 2, 0, -262163, 2, 0, -262162, 2, 0, -262161, 2, 0, -262160, 2, 0, -458761, 2, 0, -458760, 2, 0, -458759, 2, 0, -458758, 2, 0, -65532, 2, 805306368, 4, 2, 805306368, 65540, 2, 805306368, -131069, 2, 805306368)

[node name="Camera2D" type="Camera2D" parent="."]
zoom = Vector2(2.75, 2.75)
limit_enabled = false

[node name="Control" type="Control" parent="Camera2D"]
layout_mode = 3
anchors_preset = 0
offset_right = 119.0
offset_bottom = 62.0
script = ExtResource("5_kn3ki")

[node name="Label" type="Label" parent="Camera2D/Control"]
z_index = 3
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -199.0
offset_top = -115.0
offset_right = -208.0
offset_bottom = -115.0
grow_horizontal = 2
grow_vertical = 2
theme_override_font_sizes/font_size = 30
text = "Kills: 0"

[node name="Waves" type="Label" parent="Camera2D/Control"]
z_index = 3
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -48.0
offset_top = -114.0
offset_right = -57.0
offset_bottom = -114.0
grow_horizontal = 2
grow_vertical = 2
theme_override_font_sizes/font_size = 21
text = "Wave: 0"

[node name="count" type="Label" parent="Camera2D/Control"]
z_index = 3
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 142.0
offset_top = -116.0
offset_right = 82.0
offset_bottom = -116.0
grow_horizontal = 2
grow_vertical = 2
theme_override_font_sizes/font_size = 21
text = "0/5"

[node name="Player" parent="." node_paths=PackedStringArray("camera_sync") instance=ExtResource("5_8ml7l")]
position = Vector2(-82, 5)
input_pickable = true
Current_scene = "uid://bv02eg3dotl02"
LevelSong = ExtResource("7_mo5sh")
Player_Mode = 1
camera_sync = NodePath("../Camera2D")
defence = 100.0
CanHeal_viaTaunt = true
HealthFromTaunting = 0.05

[node name="EnemiesSpawns" type="Node" parent="."]

[node name="Spawner" type="Node2D" parent="EnemiesSpawns"]
position = Vector2(478, 58)
script = ExtResource("6_3sm0n")
enemy_scene = ExtResource("6_k3an4")
enemy_scene2 = ExtResource("7_ifjt6")
enemy_scene3 = ExtResource("10_8ml7l")
enemy_scene4 = ExtResource("11_mo5sh")
enemy_scene5 = ExtResource("13_famn7")

[node name="Timer" type="Timer" parent="EnemiesSpawns/Spawner"]
wait_time = 4.0
autostart = true

[node name="Sprite2D" type="Sprite2D" parent="EnemiesSpawns/Spawner"]
texture = ExtResource("11_k3an4")

[node name="Spawner2" type="Node2D" parent="EnemiesSpawns"]
position = Vector2(-411, 61)
script = ExtResource("6_3sm0n")
enemy_scene = ExtResource("6_k3an4")
enemy_scene2 = ExtResource("7_ifjt6")
enemy_scene3 = ExtResource("10_8ml7l")
enemy_scene4 = ExtResource("11_mo5sh")
enemy_scene5 = ExtResource("13_famn7")

[node name="Timer" type="Timer" parent="EnemiesSpawns/Spawner2"]
wait_time = 4.0200000000000005
autostart = true

[node name="Sprite2D" type="Sprite2D" parent="EnemiesSpawns/Spawner2"]
texture = ExtResource("11_k3an4")

[node name="Spawner3" type="Node2D" parent="EnemiesSpawns"]
position = Vector2(1, -85)
script = ExtResource("6_3sm0n")
enemy_scene = ExtResource("6_k3an4")
enemy_scene2 = ExtResource("7_ifjt6")
enemy_scene3 = ExtResource("10_8ml7l")
enemy_scene4 = ExtResource("11_mo5sh")
enemy_scene5 = ExtResource("13_famn7")

[node name="Timer" type="Timer" parent="EnemiesSpawns/Spawner3"]
wait_time = 4.04
autostart = true

[node name="Sprite2D" type="Sprite2D" parent="EnemiesSpawns/Spawner3"]
texture = ExtResource("11_k3an4")

[node name="Spawner4" type="Node2D" parent="EnemiesSpawns"]
position = Vector2(-403, -106)
script = ExtResource("6_3sm0n")
enemy_scene = ExtResource("6_k3an4")
enemy_scene2 = ExtResource("7_ifjt6")
enemy_scene3 = ExtResource("10_8ml7l")
enemy_scene4 = ExtResource("11_mo5sh")
enemy_scene5 = ExtResource("13_famn7")

[node name="Timer" type="Timer" parent="EnemiesSpawns/Spawner4"]
wait_time = 4.0600000000000005
autostart = true

[node name="Sprite2D" type="Sprite2D" parent="EnemiesSpawns/Spawner4"]
texture = ExtResource("11_k3an4")

[node name="Spawner5" type="Node2D" parent="EnemiesSpawns"]
position = Vector2(327, -110)
script = ExtResource("6_3sm0n")
enemy_scene = ExtResource("6_k3an4")
enemy_scene2 = ExtResource("7_ifjt6")
enemy_scene3 = ExtResource("10_8ml7l")
enemy_scene4 = ExtResource("11_mo5sh")
enemy_scene5 = ExtResource("13_famn7")

[node name="Timer" type="Timer" parent="EnemiesSpawns/Spawner5"]
wait_time = 4.08
autostart = true

[node name="Sprite2D" type="Sprite2D" parent="EnemiesSpawns/Spawner5"]
texture = ExtResource("11_k3an4")

[node name="SpawnerBoss" type="Node2D" parent="EnemiesSpawns"]
script = ExtResource("15_d75p2")
enemy_scene = ExtResource("16_exqbx")

[node name="Timer" type="Timer" parent="EnemiesSpawns/SpawnerBoss"]
wait_time = 4.08
autostart = true

[node name="Sprite2D" type="Sprite2D" parent="EnemiesSpawns/SpawnerBoss"]
texture = ExtResource("11_k3an4")

[node name="DeathZone" parent="." instance=ExtResource("17_d75p2")]
position = Vector2(-17, 116)

[connection signal="timeout" from="EnemiesSpawns/Spawner/Timer" to="EnemiesSpawns/Spawner" method="_on_timer_timeout"]
[connection signal="timeout" from="EnemiesSpawns/Spawner2/Timer" to="EnemiesSpawns/Spawner2" method="_on_timer_timeout"]
[connection signal="timeout" from="EnemiesSpawns/Spawner3/Timer" to="EnemiesSpawns/Spawner3" method="_on_timer_timeout"]
[connection signal="timeout" from="EnemiesSpawns/Spawner4/Timer" to="EnemiesSpawns/Spawner4" method="_on_timer_timeout"]
[connection signal="timeout" from="EnemiesSpawns/Spawner5/Timer" to="EnemiesSpawns/Spawner5" method="_on_timer_timeout"]
[connection signal="timeout" from="EnemiesSpawns/SpawnerBoss/Timer" to="EnemiesSpawns/SpawnerBoss" method="_on_timer_timeout"]
